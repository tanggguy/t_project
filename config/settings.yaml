# ==================================
# CONFIGURATION GLOBALE DU PROJET
# ==================================
# Ce fichier centralise tous les paramètres de haut niveau
# pour le backtesting, les données et le broker.

# --- Paramètres Généraux du Projet ---
project:
    # Timezone pour normaliser les timestamps (ex: 'UTC', 'Europe/Paris', 'America/New_York')
    # Important pour yfinance et backtrader.
    timezone: "Europe/Paris"


logging:
  log_level: WARNING  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: logs/trading_project.log
  max_bytes: 5242880  # 5 MB
  backup_count: 5
# --- Paramètres du Data Manager (utils/data_manager.py) ---
data:
    # Périodes par défaut si non spécifiées lors du téléchargement
    default_start_date: "2015-01-01"
    default_end_date: "2025-11-03"
    
    # Répertoire de cache (tel que défini dans README.md et .gitignore)
    cache_dir: "data/cache/"
    
    # Intervalle de données par défaut (ex: '1d' pour jour, '1h' pour heure)
    default_interval: "1d"

# --- Paramètres du Moteur de Backtest (backtesting/engine.py) ---
backtest:
    # Capital initial pour chaque backtest
    initial_capital: 10000.0

# --- Paramètres du Broker (pour la simulation Backtrader) ---
broker:
    # Commission en pourcentage (ex: 0.001 pour 0.1%)
    commission_pct: 0.001
    
    # Commission fixe (ex: 1.5 pour 1.50€ par ordre)
    # Mettez 'null' ou commentez si vous utilisez 'commission_pct'
    commission_fixed: null 
    
    # Type de commission à utiliser par Backtrader
    # Options possibles : 'percentage', 'fixed'
    commission_type: "percentage" 

    # Paramètre de slippage (ex: 0.0005 pour 0.05%)
    slippage_pct: 0.0005

optimization: 
    log_level: ERROR  # Niveau de log spécifique pour l'optimisation

# --- Paramètres d'Analytics & Reporting ---
analytics:
    periods_per_year: 252        # Daily data
    returns: log                 # log returns pour les ratios
    risk_free_rate: 0.0          # taux sans risque (annuel)
    mar: 0.0                     # minimum acceptable return (annuel)
    rolling_window: 63           # fenêtre pour les métriques rolling (≈ 3 mois)
    overfitting:
        wfa:
            alpha: 0.5
            degradation_ratio:
                robust_min: 0.8
                overfit_max: 0.5
            frac_test_sharpe_lt_alpha_train:
                robust_max: 0.2
                overfit_min: 0.5
            frac_test_sharpe_lt_0:
                robust_max: 0.3
                overfit_min: 0.6
        oos:
            mean_sharpe:
                robust_min: 1.0
                overfit_max: 0.5
            frac_sharpe_lt_0:
                robust_max: 0.2
                overfit_min: 0.5
        monte_carlo:
            p_sharpe_lt_0:
                robust_max: 0.2
                overfit_min: 0.5
            p_cagr_lt_0:
                robust_max: 0.2
                overfit_min: 0.5
            max_drawdown:
                threshold: 0.3     # drawdown > 30%
                robust_max: 0.2    # au plus 20% des simulations au-dessus du seuil
                overfit_min: 0.5   # au moins 50% des simulations au-dessus du seuil
        stability:
            robust_fraction:
                robust_min: 0.8
                overfit_max: 0.5

reporting:
    engine: plotly               # moteur de graphiques
    export_pdf: false            # PDF optionnel (wkhtmltopdf) ultérieurement
    locale: fr_FR
    currency: EUR
