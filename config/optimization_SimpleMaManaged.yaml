optimization:
  strategy:
    name: "SimpleMaManaged"
    module: "strategies.implementations.simple_ma_managed_strategy"
    class_name: "SimpleMaManagedStrategy"
    fixed_params:
      use_stop_loss: true
      stop_loss_type: "trailing"
      use_take_profit: true
      take_profit_type: "atr"
    param_space:
      fast_period: [4, 20, 1]
      slow_period: [40, 70, 5]
      stop_loss_pct: [0.01, 0.05, 0.005]
      take_profit_atr_mult:
        type: "float"
        low: 2.0
        high: 5.0
        step: 0.5

  data:
    ticker: "AAPL"
    start_date: "2019-01-01"
    end_date: "2025-11-01"
    interval: "1d"
    use_cache: true
  broker:
    initial_capital: 10000.0
    commission_pct: 0.001
    slippage_pct: 0.0
  position_sizing:
    enabled: false
    method: "fixed"
    fixed:
      pct_size: 0.5
  objective:
    metric: "sharpe"
    penalize_no_trades: -1.0
    min_trades: 1
    enforce_fast_slow_gap: true
  study:
    study_name: "sma_managed_opt"
    direction: "maximize"
    storage: "sqlite:///results/optimization/optuna_studies.db"
    load_if_exists: true
    sampler: "tpe"
    sampler_kwargs:
      seed: 42
    pruner: "median"
    pruner_kwargs: {}
    n_trials: 50
    timeout: null
    n_jobs: -1
    show_progress_bar: true
  output:
    save_study: true
    study_path: "results/optimization/sma_managed_opt.pkl"
    save_trials_csv: true
    trials_csv_path: "results/optimization/sma_managed_opt_trials.csv"
    log_file: "logs/optimization/optuna_optimizer.log"
    dump_best_params: true
    best_params_path: "results/optimization/sma_managed_opt_best_params.yaml"
